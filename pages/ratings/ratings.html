<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–†–µ–π—Ç–∏–Ω–≥–∏ - –ö–£–û–ö</title>
    <link rel="stylesheet" href="../../css/styles.css">
    <link rel="stylesheet" href="../../css/ratings.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://api-maps.yandex.ru/2.1/?apikey=02fe999c-8cb5-410a-9dde-15bcb955a914&lang=ru_RU" type="text/javascript"></script>
    <script src="../../js/script.js" defer></script>
</head>

<body class="light-theme">
    <nav class="navbar">
        <div class="container navbar-container">
            <div class="logo">–ö–£–û–ö</div>
            <ul class="nav-links">
                <li><a href="../../index.html">–ì–ª–∞–≤–Ω–∞—è</a></li>
                <li><a href="../../index.html#artist">–û–± –∞—Ä—Ç–∏—Å—Ç–µ</a></li>
                <li><a href="../../index.html#top-tracks">–¢–æ–ø —Ç—Ä–µ–∫–∏</a></li>
                <li><a href="../../index.html#albums">–ê–ª—å–±–æ–º—ã</a></li>
                <li><a href="../../index.html#singles">–°–∏–Ω–≥–ª—ã</a></li>
            </ul>
            <div class="theme-toggle">
                <span class="theme-label">–¢–µ–º–∞:</span>
                <button id="theme-toggle-btn" aria-label="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É">
                    <span class="toggle-icon">üåô</span>
                </button>
            </div>
        </div>
    </nav>

    <main class="ratings-section">
        <h1>–†–µ–π—Ç–∏–Ω–≥–∏ –∞–ª—å–±–æ–º–æ–≤</h1>

        <div class="criteria-grid">
            <div class="criteria-item" data-criteria="vocal">
                <h3>–í–æ–∫–∞–ª</h3>
                <p class="criteria-description">–û—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∏ –≤—ã—Ä–∞–∑–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –≤–æ–∫–∞–ª–∞, —Ç–µ—Ö–Ω–∏–∫–∏ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –∏ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π –ø–æ–¥–∞—á–∏.</p>
                <div class="selected-album" id="vocal-album">
                    <div class="no-album-selected">
                        <i class="fas fa-music"></i>
                        <p>–ê–ª—å–±–æ–º –Ω–µ –≤—ã–±—Ä–∞–Ω</p>
                    </div>
                </div>
                <button class="select-album-btn" data-criteria="vocal">–í—ã–±—Ä–∞—Ç—å –∞–ª—å–±–æ–º</button>
            </div>

            <div class="criteria-item" data-criteria="instrumental">
                <h3>–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–ª</h3>
                <p class="criteria-description">–û—Ü–µ–Ω–∫–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–ª—å–Ω–æ–π —Å–æ—Å—Ç–∞–≤–ª—è—é—â–µ–π, –∞—Ä–∞–Ω–∂–∏—Ä–æ–≤–æ–∫ –∏ –º—É–∑—ã–∫–∞–ª—å–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π.</p>
                <div class="selected-album" id="instrumental-album">
                    <div class="no-album-selected">
                        <i class="fas fa-guitar"></i>
                        <p>–ê–ª—å–±–æ–º –Ω–µ –≤—ã–±—Ä–∞–Ω</p>
                    </div>
                </div>
                <button class="select-album-btn" data-criteria="instrumental">–í—ã–±—Ä–∞—Ç—å –∞–ª—å–±–æ–º</button>
            </div>

            <div class="criteria-item" data-criteria="lyrics">
                <h3>–¢–µ–∫—Å—Ç—ã</h3>
                <p class="criteria-description">–û—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ —Ç–µ–∫—Å—Ç–æ–≤, –∏—Ö —Å–º—ã—Å–ª–æ–≤–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏ –∏ –ø–æ—ç—Ç–∏—á–Ω–æ—Å—Ç–∏.</p>
                <div class="selected-album" id="lyrics-album">
                    <div class="no-album-selected">
                        <i class="fas fa-pen"></i>
                        <p>–ê–ª—å–±–æ–º –Ω–µ –≤—ã–±—Ä–∞–Ω</p>
                    </div>
                </div>
                <button class="select-album-btn" data-criteria="lyrics">–í—ã–±—Ä–∞—Ç—å –∞–ª—å–±–æ–º</button>
            </div>

            <div class="criteria-item" data-criteria="arrangement">
                <h3>–ê—Ä–∞–Ω–∂–∏—Ä–æ–≤–∫–∞</h3>
                <p class="criteria-description">–û—Ü–µ–Ω–∫–∞ –∫–æ–º–ø–æ–∑–∏—Ü–∏–æ–Ω–Ω–æ–≥–æ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è, —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏ —Ä–∞–∑–≤–∏—Ç–∏—è –º—É–∑—ã–∫–∞–ª—å–Ω—ã—Ö –∏–¥–µ–π.</p>
                <div class="selected-album" id="arrangement-album">
                    <div class="no-album-selected">
                        <i class="fas fa-layer-group"></i>
                        <p>–ê–ª—å–±–æ–º –Ω–µ –≤—ã–±—Ä–∞–Ω</p>
                    </div>
                </div>
                <button class="select-album-btn" data-criteria="arrangement">–í—ã–±—Ä–∞—Ç—å –∞–ª—å–±–æ–º</button>
            </div>

            <div class="criteria-item" data-criteria="sound">
                <h3>–ó–≤—É—á–∞–Ω–∏–µ</h3>
                <p class="criteria-description">–û—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∑–≤—É–∫–æ–∑–∞–ø–∏—Å–∏, —Å–≤–µ–¥–µ–Ω–∏—è –∏ –º–∞—Å—Ç–µ—Ä–∏–Ω–≥–∞.</p>
                <div class="selected-album" id="sound-album">
                    <div class="no-album-selected">
                        <i class="fas fa-volume-up"></i>
                        <p>–ê–ª—å–±–æ–º –Ω–µ –≤—ã–±—Ä–∞–Ω</p>
                    </div>
                </div>
                <button class="select-album-btn" data-criteria="sound">–í—ã–±—Ä–∞—Ç—å –∞–ª—å–±–æ–º</button>
            </div>

            <div class="criteria-item" data-criteria="overall">
                <h3>–û–±—â–µ–µ –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏–µ</h3>
                <p class="criteria-description">–û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞ –∞–ª—å–±–æ–º–∞, –µ–≥–æ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –∏ –≤–ª–∏—è–Ω–∏—è –Ω–∞ –∂–∞–Ω—Ä.</p>
                <div class="selected-album" id="overall-album">
                    <div class="no-album-selected">
                        <i class="fas fa-star"></i>
                        <p>–ê–ª—å–±–æ–º –Ω–µ –≤—ã–±—Ä–∞–Ω</p>
                    </div>
                </div>
                <button class="select-album-btn" data-criteria="overall">–í—ã–±—Ä–∞—Ç—å –∞–ª—å–±–æ–º</button>
            </div>
        </div>

        <section class="find-author">
            <h2>–ù–∞–π–¥–∏ –∞–≤—Ç–æ—Ä–∞</h2>
            <div id="map" class="map-container"></div>
        </section>
    </main>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤—ã–±–æ—Ä–∞ –∞–ª—å–±–æ–º–∞ -->
    <div class="modal" id="albumSelectionModal">
        <div class="modal-content">
            <span class="modal__close">&times;</span>
            <h2>–í—ã–±–µ—Ä–∏—Ç–µ –∞–ª—å–±–æ–º</h2>
            <div class="albums-grid" id="albumsGrid">
                <!-- –ê–ª—å–±–æ–º—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
            </div>
        </div>
    </div>

    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞—Ä—Ç—ã
        ymaps.ready(function() {
            const map = new ymaps.Map('map', {
                center: [52.275115, 104.279620], // –ò—Ä–∫—É—Ç—Å–∫
                zoom: 12
            });

            // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–µ—Ç–∫–∏
            const placemark = new ymaps.Placemark([52.275115, 104.279620], {
                balloonContent: '–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ –∞–≤—Ç–æ—Ä–∞'
            });

            map.geoObjects.add(placemark);
        });

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–±–æ—Ä–∞ –∞–ª—å–±–æ–º–∞
        document.addEventListener('DOMContentLoaded', function() {
            const selectButtons = document.querySelectorAll('.select-album-btn');
            const modal = document.getElementById('albumSelectionModal');
            const closeBtn = modal.querySelector('.modal__close');
            const albumsGrid = document.getElementById('albumsGrid');
            let currentCriteria = '';

            // –û—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
            selectButtons.forEach(button => {
                button.addEventListener('click', function() {
                    currentCriteria = this.dataset.criteria;
                    modal.style.display = 'block';
                    loadAlbums();
                });
            });

            // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
            closeBtn.addEventListener('click', () => {
                modal.style.display = 'none';
            });

            // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ –∫–ª–∏–∫—É –≤–Ω–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
            window.addEventListener('click', (e) => {
                if (e.target === modal) {
                    modal.style.display = 'none';
                }
            });

            // –ó–∞–≥—Ä—É–∑–∫–∞ –∞–ª—å–±–æ–º–æ–≤
            async function loadAlbums() {
                try {
                    const response = await fetch('../../data/albums.json');
                    const data = await response.json();

                    albumsGrid.innerHTML = '';
                    data.albums.forEach(album => {
                        const albumCard = document.createElement('div');
                        albumCard.className = 'album-card';
                        albumCard.innerHTML = `
                            <img src="${album.cover}" alt="${album.title}">
                            <div class="album-info">
                                <h3>${album.title}</h3>
                                <p>${album.artist}</p>
                            </div>
                        `;

                        albumCard.addEventListener('click', () => {
                            selectAlbum(album);
                            modal.style.display = 'none';
                        });

                        albumsGrid.appendChild(albumCard);
                    });
                } catch (error) {
                    console.error('Error loading albums:', error);
                }
            }

            // –í—ã–±–æ—Ä –∞–ª—å–±–æ–º–∞
            function selectAlbum(album) {
                const albumContainer = document.getElementById(`${currentCriteria}-album`);
                albumContainer.innerHTML = `
                    <img src="${album.cover}" alt="${album.title}">
                    <div class="album-info">
                        <h3>${album.title}</h3>
                        <p>${album.artist}</p>
                    </div>
                `;
            }
        });
    </script>
</body>

</html>